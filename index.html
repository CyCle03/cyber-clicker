<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Clicker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=2">
</head>

<body>
    <div class="scanline"></div>
    <div class="app-container">
        <!-- Header / HUD -->
        <header class="hud">
            <div class="hud-item">
                <span class="label">BITS:</span>
                <span id="bits-display" class="value glow-cyan">0</span>
            </div>
            <div class="hud-item">
                <span class="label">GPS:</span>
                <span id="gps-display" class="value glow-pink">0</span>
                <span id="gps-bonus" class="bonus-value"></span>
            </div>
            <div class="hud-item">
                <span class="label">CRYPTOS:</span>
                <span id="crypto-display" class="value glow-gold">0</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-interface">
            <div class="split-layout">
                <!-- LEFT PANEL: TERMINAL (Always Visible) -->
                <section class="terminal-section">
                    <div class="section-header">TERMINAL</div>

                    <div class="hack-zone">
                        <button id="hack-button" class="cyber-button">
                            <div class="btn-content">
                                <span class="icon">‚ö°</span>
                                <span class="text">HACK_SYSTEM</span>
                            </div>
                            <div class="btn-glitch"></div>
                        </button>
                    </div>

                    <!-- Reboot Controls (Below HACK_SYSTEM) -->
                    <div class="reboot-controls">
                        <button id="reboot-button" class="cyber-button-reboot">REBOOT SYSTEM</button>
                        <div class="reboot-info">
                            <div id="reboot-level-display" class="reboot-text">Root Access: LVL 0 (Next: LVL 1 at
                                1,000,000 BITS)</div>
                            <div id="reboot-bonus-display" class="reboot-text">Current Bonus: +0% GPS</div>
                        </div>
                    </div>

                    <div class="log-container-wrapper">
                        <div id="game-log" class="log-container">
                            <div class="log-entry">> System initialized...</div>
                            <div class="log-entry">> Waiting for input...</div>
                        </div>
                    </div>
                </section>

                <!-- RIGHT PANEL: AUXILIARY (Tabs) -->
                <section class="auxiliary-section">
                    <!-- Tab Navigation -->
                    <nav class="tabs">
                        <button class="tab-btn active" data-tab="shop">SHOP</button>
                        <button class="tab-btn" data-tab="black-market">BLACK MARKET</button>
                        <button class="tab-btn" data-tab="skill-tree">SKILL TREE</button>
                        <button class="tab-btn" data-tab="achievements">ACHIEVEMENTS</button>
                        <button class="tab-btn" data-tab="statistics">STATISTICS</button>
                    </nav>

                    <div class="tab-content">
                        <!-- SHOP TAB -->
                        <div id="tab-shop" class="tab-pane active">
                            <div id="shop-container" class="grid-container">
                                <!-- Upgrades injected here -->
                            </div>
                        </div>

                        <!-- BLACK MARKET TAB -->
                        <div id="tab-black-market" class="tab-pane">
                            <div class="market-header">
                                <p>WARNING: ILLEGAL TRANSACTIONS DETECTED. SPEND CRYPTOS WISELY.</p>
                            </div>

                            <!-- Active Effects Display -->
                            <div id="active-effects-container" class="active-effects">
                                <!-- Active effects will be displayed here -->
                            </div>

                            <div id="black-market-container" class="grid-container">
                                <!-- Black Market items injected here -->
                            </div>
                        </div>

                        <!-- SKILL TREE TAB -->
                        <div id="tab-skill-tree" class="tab-pane">
                            <div class="skill-tree-header">
                                <div class="skill-points-display">SKILL POINTS: <span id="skill-points-value">0</span>
                                </div>
                                <div class="skill-tree-info">Unlock Root Access levels to earn Skill Points.</div>
                            </div>
                            <div id="skill-tree-container" class="skill-tree-container">
                                <!-- Skill Nodes injected here -->
                            </div>
                        </div>

                        <!-- ACHIEVEMENTS TAB -->
                        <div id="tab-achievements" class="tab-pane">
                            <div id="achievements-container" class="grid-container">
                                <!-- Achievements injected here -->
                            </div>
                        </div>

                        <!-- STATISTICS TAB -->
                        <div id="tab-statistics" class="tab-pane">
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-icon">üñ±Ô∏è</div>
                                    <div class="stat-value" id="stat-clicks">0</div>
                                    <div class="stat-label">Total Clicks</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">üí∞</div>
                                    <div class="stat-value" id="stat-bits">0</div>
                                    <div class="stat-label">Total BITS Earned</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">‚è±Ô∏è</div>
                                    <div class="stat-value" id="stat-time">00:00:00</div>
                                    <div class="stat-label">Play Time</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">üîÑ</div>
                                    <div class="stat-value" id="stat-reboots">0</div>
                                    <div class="stat-label">Reboots</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">üõ°Ô∏è</div>
                                    <div class="stat-value" id="stat-firewalls">0</div>
                                    <div class="stat-label">Firewalls Encountered</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">‚úÖ</div>
                                    <div class="stat-value" id="stat-firewalls-cleared">0</div>
                                    <div class="stat-label">Firewalls Cleared</div>
                                </div>
                            </div>

                            <div style="margin-top: 30px; text-align: center; padding-bottom: 20px;">
                                <button class="cyber-button danger" onclick="hardReset()">HARD RESET DATA</button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>
    <!-- Debug Console Overlay -->
    <div id="debug-console-container">
        <div class="debug-header">
            <span>SYSTEM DEBUG LOG</span>
            <span style="font-size: 0.8em; cursor: pointer;"
                onclick="document.getElementById('debug-console-container').classList.remove('visible')">[X]</span>
        </div>
        <div id="debug-log"></div>
    </div>
    <button id="debug-toggle-btn">DEBUG</button>

    <!-- Firewall Overlay -->
    <div id="firewall-overlay">
        <div class="firewall-box">
            <div class="firewall-title">‚ö†Ô∏è FIREWALL DETECTED ‚ö†Ô∏è</div>
            <div class="firewall-warning">
                SECURITY BREACH IN PROGRESS.<br>
                GPS REDUCED BY 50%.<br>
                <br>
                ENTER SECURITY CODE TO OVERRIDE:
            </div>
            <div id="firewall-code-display" class="firewall-code-display">----</div>
            <input type="text" id="firewall-input" class="firewall-input" maxlength="4" placeholder="CODE"
                autocomplete="off" readonly>

            <!-- Touch Keypad -->
            <div class="keypad-container">
                <button class="keypad-btn" onclick="handleKeypadInput('1')">1</button>
                <button class="keypad-btn" onclick="handleKeypadInput('2')">2</button>
                <button class="keypad-btn" onclick="handleKeypadInput('3')">3</button>
                <button class="keypad-btn" onclick="handleKeypadInput('A')">A</button>

                <button class="keypad-btn" onclick="handleKeypadInput('4')">4</button>
                <button class="keypad-btn" onclick="handleKeypadInput('5')">5</button>
                <button class="keypad-btn" onclick="handleKeypadInput('6')">6</button>
                <button class="keypad-btn" onclick="handleKeypadInput('B')">B</button>

                <button class="keypad-btn" onclick="handleKeypadInput('7')">7</button>
                <button class="keypad-btn" onclick="handleKeypadInput('8')">8</button>
                <button class="keypad-btn" onclick="handleKeypadInput('9')">9</button>
                <button class="keypad-btn" onclick="handleKeypadInput('C')">C</button>

                <button class="keypad-btn" onclick="handleKeypadInput('0')">0</button>
                <button class="keypad-btn" onclick="handleKeypadInput('D')">D</button>
                <button class="keypad-btn" onclick="handleKeypadInput('E')">E</button>
                <button class="keypad-btn" onclick="handleKeypadInput('F')">F</button>

                <button class="keypad-btn control-clr" onclick="handleKeypadInput('CLR')">CLR</button>
                <button class="keypad-btn control-ok" onclick="handleKeypadInput('OK')">OK</button>
            </div>
        </div>
    </div>

    <!-- Offline Progress Overlay -->
    <div id="offline-overlay">
        <div class="offline-box">
            <div class="offline-title">SYSTEM RESTORED</div>
            <div style="color: #aaa; margin-bottom: 10px;">MINING OPERATIONS CONTINUED IN BACKGROUND</div>
            <div class="offline-amount" id="offline-amount-display">+0 BITS</div>
            <div style="color: #fff; margin-bottom: 30px;" id="offline-time-display">Time Offline: 0s</div>
            <button class="cyber-button"
                onclick="document.getElementById('offline-overlay').classList.remove('visible')">
                <div class="btn-content">
                    <span class="text">ACKNOWLEDGE</span>
                </div>
            </button>
        </div>
    </div>

    <!-- Mobile Navigation Bar -->
    <div class="mobile-nav">
        <button class="mobile-nav-btn active" data-tab="terminal" onclick="switchMobileTab('terminal')">
            <span class="icon">‚ö°</span>
            <span class="label">TERM</span>
        </button>
        <button class="mobile-nav-btn" data-tab="shop" onclick="switchMobileTab('shop')">
            <span class="icon">üõí</span>
            <span class="label">SHOP</span>
        </button>
        <button class="mobile-nav-btn" data-tab="black-market" onclick="switchMobileTab('black-market')">
            <span class="icon">‚ò†Ô∏è</span>
            <span class="label">MARKET</span>
        </button>
        <button class="mobile-nav-btn" data-tab="skill-tree" onclick="switchMobileTab('skill-tree')">
            <span class="icon">üß†</span>
            <span class="label">SKILLS</span>
        </button>
        <button class="mobile-nav-btn" data-tab="achievements" onclick="switchMobileTab('achievements')">
            <span class="icon">üèÜ</span>
            <span class="label">ACHIEVE</span>
        </button>
        <button class="mobile-nav-btn" data-tab="statistics" onclick="switchMobileTab('statistics')">
            <span class="icon">üìä</span>
            <span class="label">STATS</span>
        </button>
        <button class="mobile-nav-btn" onclick="openSettings()">
            <span class="icon">‚öôÔ∏è</span>
            <span class="label">SETTING</span>
        </button>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">SYSTEM SETTINGS</div>

            <div class="setting-item">
                <div class="setting-label">MASTER VOLUME</div>
                <input type="range" id="volume-slider" min="0" max="100" value="50" class="cyber-slider">
                <div class="setting-value" id="volume-value">50%</div>
            </div>

            <div class="setting-item">
                <button class="cyber-button" onclick="toggleMute()" id="mute-btn">MUTE SOUND</button>
            </div>

            <div class="modal-footer">
                <button class="cyber-button" onclick="closeSettings()">CLOSE</button>
            </div>
        </div>
    </div>

    <!-- Settings Button (Fixed Top Right) -->
    <button id="settings-btn" class="settings-btn" onclick="openSettings()">‚öôÔ∏è</button>

    <!-- Save Indicator -->
    <div id="save-indicator" class="save-indicator">
        <span class="icon">üíæ</span>
        <span class="text">SAVED</span>
    </div>

    <!-- Tutorial Overlay -->
    <div id="tutorial-overlay" class="tutorial-overlay">
        <div class="tutorial-box">
            <h2 id="tutorial-title">SYSTEM INITIALIZED</h2>
            <p id="tutorial-content">Welcome to the network, user.</p>
            <button id="tutorial-next-btn" class="cyber-button">NEXT >></button>
        </div>
    </div>

    <!-- Data Breach Mini-game Overlay -->
    <div id="breach-overlay" class="tutorial-overlay">
        <div class="breach-container">
            <h2>DATA BREACH IN PROGRESS</h2>
            <div class="breach-info">
                <span id="breach-timer">TIME: 10.0s</span>
                <span id="breach-score">DATA: 0/0</span>
            </div>
            <div id="breach-grid" class="breach-grid">
                <!-- Grid generated by JS -->
            </div>
            <p class="breach-instruction">CLICK GREEN DATA NODES. AVOID RED ICE.</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>